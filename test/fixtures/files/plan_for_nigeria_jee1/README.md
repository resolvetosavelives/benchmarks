# These files were generated by hand quickly and easily by following these steps.

## If they need to be regenerated, you may follow these steps.

### Note that if database schema changes, these queries will need to be updated.

### Note these JSON data depend upon seed data already being present in the database.

1. Log out any connections to the subject database, e.g. rails server, database consoles, etc
1. Run from the Rails app root command line `rake db:drop db:create db:migrate db:seed`
1. Start the app server via `rails s` (or how ever you like to do it)
1. In a web browser, navigate to `http://localhost:3000/goals/Nigeria/jee1` (or whichever host/port combination you use)
1. After the goals page renders, submit the form UNCHANGED by pressing the `Next` button near the end of the page.
1. After the draft plan page has rendered successfully, a plan and its child objects have been created, then you may dump them
1. Run from the Rails app root command line `rails db` to open a console to the Postgres database in dev env.
1. Run these 3 commands and 4 queries, with each query you copy and paste the output into the file:
   1. Alternatively, you may direct the output to file directly by following the
      directions in the following link, which is also where this technique was borrowed from:
      https://hashrocket.com/blog/posts/create-quick-json-data-dumps-from-postgresql

To connect to Postgres running within the Docker container:
`psql -U postgres -h localhost`

Then, within the `psql` command client:

```
\c benchmarks_development;
\t
\pset format unaligned
WITH t AS (select name, assessment_id from plans) SELECT json_agg(t) FROM t;
WITH t AS (SELECT plan_id, assessment_indicator_id, benchmark_indicator_id, value FROM plan_goals) SELECT json_agg(t) FROM t;
WITH t AS (SELECT plan_id, benchmark_indicator_activity_id, benchmark_indicator_id, benchmark_technical_area_id FROM plan_activities) SELECT json_agg(t) FROM t;
```
